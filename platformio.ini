; -- Environment Definition --
[env:esp32-s3-devkitc-1]
platform = espressif32
board = esp32-s3-devkitc-1
framework = arduino
monitor_speed = 115200

; -- MEMORY CONFIGURATION (Critical for N8R8) --
; The ESP32-S3 communicates with memory in different "modes".
; 'qio' (Quad I/O) uses 4 wires. 'opi' (Octal I/O) uses 8 wires.
; N8 (Flash) usually uses qio. R8 (PSRAM) MUST use opi.
board_build.arduino.memory_type = qio_opi

; -- FLASH SPEED --
; Set Flash frequency to 80MHz for best performance
board_build.f_flash = 80000000L
board_build.flash_mode = qio

; -- PARTITION SCHEME --
; Tells the ESP32 how to slice up the 8MB Flash chip.
; default_8MB.csv gives you ~3.3MB for Code and ~1.5MB for Files (LittleFS).
board_build.partitions = default_8MB.csv
board_upload.flash_size = 8MB

; -- COMPILER FLAGS --
; -DBOARD_HAS_PSRAM: Defines the "macro" that allows code to see PSRAM.
; -mfix...: A standard fix for S3 chips to prevent memory glitches.
build_flags = 
    -DBOARD_HAS_PSRAM
    -mfix-esp32-psram-cache-issue

; LIBRARIES
; ==============================
lib_deps = 
    remotexy/RemoteXY @ ^4.1.8  ; Automatically downloads RemoteXY